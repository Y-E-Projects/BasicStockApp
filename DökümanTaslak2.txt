# BasicStockApp - Kurulum ve Yayınlama Rehberi

---

## 1. Paket İndirme ve Dosya Açma

- [BasicStockApp Releases](https://github.com/OzeryOt/BasicStockApp/releases) sayfasından `Publish.zip` dosyasını indirin.  
- İndirdiğiniz arşiv dosyasını, sisteminizde uygun gördüğünüz bir dizine açınız (Örnek: `C:\Publish`).

---

## 2. IIS (Internet Information Services) Kurulumu ve Yapılandırması

- Windows Başlat menüsünden **“Windows özelliklerini aç veya kapat”** araması yaparak ilgili yönetim panelini açınız.  
- Açılan pencereden **Internet Information Services (IIS)** bileşenlerini etkinleştiriniz.  
- IIS servisinin tam olarak yapılandırıldığından emin olunuz.

---

## 3. MySQL Server Kurulumu ve Konfigürasyonu

- [MySQL Community Installer](https://dev.mysql.com/downloads/installer/) sayfasından en güncel `mysql-installer-community-x.x.x.x.msi` sürümünü indirin ve çalıştırınız.  
- Kurulum sürecini, [bu video](https://www.youtube.com/watch?v=v8i2NgiM5pE&ab_channel=GeekyScript) rehberliğinde takip ederek tamamlayınız.  
  - Önemli: Veritabanı erişimi için ek kullanıcı oluşturabilir veya root kullanıcı bilgilerinizi kullanabilirsiniz.  
- Kurulum sonrası, sisteminizi yeniden başlatınız.

---

## 4. IIS Üzerinde Web Sitesi Tanımlama

- Başlat menüsünden **IIS Yöneticisi (Internet Information Services Manager)** uygulamasını açınız.  
- Sol paneldeki **“Siteler”** bölümüne sağ tıklayıp **“Web Sitesi Ekle”** seçeneğini seçiniz.  
- Açılan pencerede;  
  - **Site Adı:** İngilizce karakterlerden oluşan, boşluksuz bir isim giriniz.  
  - **Fiziksel Yol:** Daha önce açtığınız yayın klasörünü (`C:\Publish` vb.) seçiniz.  
- Seçilen klasöre sağ tıklayarak **Özellikler > Güvenlik** sekmesinden **IIS_IUSRS** kullanıcısının yetkilerinin olduğundan emin olunuz; yoksa ekleyiniz.  
- IIS’de site ayarlarında, **Bağlantı Türü (Type)** olarak **https** seçiniz.  
- IP adresi kısmını boş bırakabilir, **Tamam** ile işlemi tamamlayabilirsiniz.

---

## 5. Uygulama Konfigürasyonu (`appsettings.json`)

- Yayın klasöründe bulunan `appsettings.json` dosyasını bir metin editörü ile açınız.  
- **DefaultConnection** bölümündeki `Database` değerini, boşluk ve özel karakter içermeyen, İngilizce harflerden oluşan veritabanı adı ile güncelleyiniz.  
- **User** ve **Password** alanlarına, MySQL kurulumunda tanımladığınız veritabanı kullanıcı bilgilerini giriniz.  
  - Eğer ek kullanıcı oluşturmadıysanız, `User` olarak `"root"`, `Password` alanına ise root şifrenizi giriniz.  
- **DefaultCulture** parametresini, uygulamanın yanıt diline göre ayarlayınız:  
  - Türkçe için: `"tr-TR"`  
  - İngilizce için: `"en-US"`  
- Dosya üzerinde yaptığınız değişiklikleri kaydediniz.

---

## 6. Uygulamanın Başlatılması ve İlk Veritabanı Kurulumu

- Yayın klasöründe yer alan `API.exe` dosyasını çalıştırınız.  
- Konsolda, Entity Framework Core tarafından uygulanan migration işlemlerine dair aşağıdaki gibi log çıktıları almanız beklenir:

Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE DATABASE DenemeStockAppDb
...
Applying migration '20250812141150_mig1'.
...
Application started. Press Ctrl+C to shut down.

- Bu loglar, veritabanı oluşturma ve tabloların başarıyla kurulduğunu doğrular.

---

## 7. Son Adımlar ve Testler

- Kurulum tamamlandıktan sonra, tarayıcınızdan `https://localhost` adresini ziyaret ederek uygulamanın erişilebilir olduğunu doğrulayınız.  
- Uygulama yanıt dili veya veritabanı değişikliklerinde;  
  - `API.exe` uygulamasını kapatıp yeniden başlatınız.  
  - IIS üzerinde ilgili web sitesini yeniden başlatınız.  
  - Dil değişikliği için IIS servisini birkaç defa (2-3 kez) yeniden başlatmanız gerekebilir.

---

### Önemli Notlar:

- Veritabanı bağlantısı ve uygulama dili ayarlarında yapılan değişikliklerin etkinleşmesi için IIS ve uygulama yeniden başlatılmalıdır.  
- IIS kullanıcı yetkilerinin doğru tanımlanması, uygulamanın dosya ve klasörlere erişimi için kritik öneme sahiptir.  
- HTTPS yapılandırması için uygun sertifika atamalarının yapılması güvenlik açısından önerilmektedir.

---

Bu rehber, BasicStockApp uygulamanızın kurulumunu, yayınlanmasını ve ilk çalıştırılmasını en doğru ve profesyonel şekilde gerçekleştirmenize yardımcı olacak şekilde tasarlanmıştır.  
Herhangi bir aşamada destek talebiniz için lütfen iletişime geçiniz.